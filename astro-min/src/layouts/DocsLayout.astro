---
import LeftSidebar from '../components/LeftSidebar/LeftSidebar.astro'
import * as CONFIG from '../config'
import Header from '../components/Header/Header.astro'
import BaseLayout from './BaseLayout.astro'
import type { MarkdownHeading } from 'astro'

type Props = {
    frontmatter: CONFIG.Frontmatter
    headings: MarkdownHeading[]
}

const { frontmatter, headings } = Astro.props as Props
const canonicalURL = new URL('https://www.etlbox.net')
//const canonicalURL = new URL(Astro.url.pathname, Astro.site)
---

<BaseLayout
    title={frontmatter.title}
    descrption={frontmatter.description}
    canonicalUrl={canonicalURL}>
    <header
        class="sticky top-0 z-40 flex-none w-full mx-auto bg-white border-b border-gray-200 dark:border-gray-600 dark:bg-gray-800">
        <Header />
    </header>
    <div class="w-full px-4 mx-auto max-w-8xl">
        <div class="lg:flex">
            <aside
                id="sidebar"
                class="fixed inset-0 z-20 flex-none hidden h-full w-72 lg:static lg:h-auto lg:overflow-y-visible lg:pt-0 lg:w-48 lg:block"
                aria-label="sidebar-label">
                <div
                    class="overflow-y-auto z-20 h-full bg-white scrolling-touch max-w-2xs lg:h-[calc(100vh-5rem)] lg:block lg:sticky top:24 lg:top-20 dark:bg-gray-900 lg:mr-0">
                    <LeftSidebar />
                </div>
            </aside>

            <main
                id="content-wrapper"
                class="flex-auto w-full min-w-0 lg:static lg:max-h-full lg:overflow-visible">
                <div class="flex w-full">
                    <article
                        class="flex-auto max-w-4xl min-w-0 pt-6 lg:px-8 lg:pt-8 pb:12 xl:pb-24 lg:pb-16">
                        <div class="format lg:format-lg dark:format-invert">
                            <slot />
                        </div>
                    </article>
                    <aside
                        class="flex-none hidden w-64 pl-8 mr-8 xl:text-sm xl:block">
                        <div
                            class="flex overflow-y-auto sticky top-28 flex-col justify-between pt-10 pb-6 h-[calc(100vh-5rem)]"
                            title="Table of Contents">
                            <ul>
                                <li>Tests sdfds</li>
                                <li>Tests sdfds</li>
                                <li>Tests sdfds</li>
                                <li>Tests sdfds</li>
                                <li>Tests sdfds</li>
                                <li>Tests sdfds</li>
                                <li>Tests sdfds</li>
                                <li>Tests sdfds</li>
                                <li>Tests sdfds</li>
                                <li>Tests sdfds</li>
                                <li>Tests sdfds</li>
                                <li>Tests sdfds</li>
                            </ul>
                        </div>
                    </aside>
                </div>
            </main>
        </div>
    </div>
    <footer>
        <div>Footer</div>
        <ul>
            <li>Tests sdfds</li>
            <li>Tests sdfds</li>
            <li>Tests sdfds</li>
            <li>Tests sdfds</li>
            <li>Tests sdfds</li>
            <li>Tests sdfds</li>
            <li>Tests sdfds</li>
            <li>Tests sdfds</li>
            <li>Tests sdfds</li>
            <li>Tests sdfds</li>
        </ul>
    </footer>
</BaseLayout>
